apiVersion: v1
kind: ConfigMap
metadata:
  name: dealbot-env
data:
  NODE_ENV: production
  DEALBOT_RUN_MODE: "api"
  DEALBOT_HOST: 0.0.0.0
  DEALBOT_PORT: "3130"
  DATABASE_HOST: dealbot-postgres
  DATABASE_PORT: "5432"
  DATABASE_USER: dealbot
  DATABASE_NAME: filecoin_dealbot
  DATABASE_PASSWORD: dealbot_password
  NETWORK: calibration
  # Dev mode - enables /api/dev/* endpoints for manual deal/retrieval testing
  ENABLE_DEV_MODE: "true"
  # 5hr intervals and staggered offsets so deals, retrievals, and metrics don't run during local dev
  DEAL_INTERVAL_SECONDS: "18000"
  RETRIEVAL_INTERVAL_SECONDS: "18000"
  DEAL_START_OFFSET_SECONDS: "18000"
  RETRIEVAL_START_OFFSET_SECONDS: "19000"
  METRICS_START_OFFSET_SECONDS: "20000"
  ENABLE_IPNI_TESTING: "always"
  DEALBOT_JOBS_MODE: "pgboss"
  RETRIEVALS_PER_SP_PER_HOUR: "6"
  DEALS_PER_SP_PER_HOUR: "1"
  USE_ONLY_APPROVED_PROVIDERS: "true"
  PG_BOSS_LOCAL_CONCURRENCY: "3"
  JOB_WORKER_POLL_SECONDS: "60"
  RANDOM_DATASET_SIZES: "10485760"
